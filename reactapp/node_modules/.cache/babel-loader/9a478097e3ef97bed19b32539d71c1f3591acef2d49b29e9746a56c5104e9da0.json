{"ast":null,"code":"import _slicedToArray from\"/home/xkruzel/Desktop/todo/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as THREE from\"three\";import{OrbitControls}from\"three/examples/jsm/controls/OrbitControls\";import*as dat from\"dat.gui\";import{Point}from\"./Point\";import{Interaction}from\"three.interaction-fixed\";import*as rendering_utils from'./rendering_utils.js';export function init3Dgraphics(canvas,description_div,gui_div,data,nodes_ids,h,w){if(data===undefined){return false;}var CYLINDER_HEIGHT=8;var number_of_nodes=Object.keys(nodes_ids).length;var scene=new THREE.Scene();scene.background=new THREE.Color(0xf8f2ea);var camera=new THREE.PerspectiveCamera(75,canvas.width/canvas.height,0.1,1000);var renderer=new THREE.WebGLRenderer({canvas:canvas});renderer.setPixelRatio(window.devicePixelRatio);renderer.setSize(canvas.width,canvas.height);// full size\ncamera.position.setZ(100);// for better perspective\nrenderer.sortObjects=false;renderer.render(scene,camera);new Interaction(renderer,scene,camera);// For showing text information about clusters\nvar texts=[];var cylinders=[];var gui=new dat.GUI({autoPlace:false});gui_div.append(gui.domElement);var pointLight=new THREE.PointLight(0x818085);pointLight.position.set(20,20,20);var ambientLight=new THREE.AmbientLight(0xffffff);ambientLight.position.set(20,20,20);scene.add(pointLight,ambientLight);window.addEventListener(\"resize\",function(){camera.aspect=canvas.width/canvas.height;camera.updateProjectionMatrix();renderer.setSize(canvas.width);});var controls=new OrbitControls(camera,renderer.domElement);processClusters(scene,data);data=null;function animate(){setTimeout(function(){requestAnimationFrame(animate);},1000/5);controls.update();renderer.render(scene,camera);pointLight.position.copy(camera.position);}renderer.setAnimationLoop(animate);window.addEventListener(\"resize\",function(){camera.aspect=canvas.width/canvas.width;camera.updateProjectionMatrix();renderer.setSize(canvas.width,canvas.width);});/* SETTING CONTROLS */ /* COLOR */var parameters_colors=[{check:true},// color for back edges \n{check:false},// color for ranks\n{check:false}// color for None colors\n];var folder=gui.addFolder(\"Colors\");folder.add(parameters_colors[0],'check').name('Back edges').listen().onChange(function(e){setChecked(0);if(e){cylinders.forEach(function(cylinder){if(!cylinder.userData.isAtractor){cylinder.material.color=cylinder.userData.colorBacks;}});}});folder.add(parameters_colors[1],'check').name('Ranks').listen().onChange(function(e){setChecked(1);if(e){cylinders.forEach(function(cylinder){if(!cylinder.userData.isAtractor){cylinder.material.color=cylinder.userData.colorRank;}});}});folder.add(parameters_colors[2],'check').name('None').listen().onChange(function(e){setChecked(2);if(e){cylinders.forEach(function(cylinder){if(!cylinder.userData.isAtractor){cylinder.material.color=new THREE.Color(rendering_utils.NEUTRAL_COLOR);}});}});function setChecked(prop){for(var param in parameters_colors){parameters_colors[param].check=false;}parameters_colors[prop].check=true;}/* Export */var params_export={export:exportGLTEObject,right:moveObjectToRight,left:moveObjectToLeft};var folder_export=gui.addFolder(\"Export\");folder_export.add(params_export,'export').name('Export in gltf format');folder_export.add(params_export,'right').name('Move to right');folder_export.add(params_export,'left').name('Move to left');/* CONTROLS END */var group=new THREE.Group();cylinders.forEach(function(cyl){group.add(cyl);});scene.add(group);function moveObjectToRight(){group.position.set(group.position.x,group.position.y,group.position.z+5);}function moveObjectToLeft(){group.position.set(group.position.x,group.position.y,group.position.z-5);}function exportGLTEObject(){return rendering_utils.exportGLTE(group);}function createCylinder(data,id,startPoint,endPoint,currRadius,nextRadius,rank,rank_max){var isAtractor=data[id][\"Color\"]!==\"\";var colorBacks=new THREE.Color(isAtractor?data[id][\"Color\"]:rendering_utils.calcColorBacks(data[id]));var colorRank=new THREE.Color(isAtractor?data[id][\"Color\"]:rendering_utils.calcColorRank(rank_max,rank));var cylinderMesh=function cylinderMesh(startPoint,endPoint,midPoint,currRadius,nextRadius,colorBacks,colorRank,isAtractor){var orientation=new THREE.Matrix4();/* THREE.Object3D().up (=Y) default orientation for all objects */orientation.lookAt(startPoint,endPoint,new THREE.Object3D().up);/* rotation around axis X by -90 degrees\n       * matches the default orientation Y\n       * with the orientation of looking Z */var mat=new THREE.Matrix4();mat.set(1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1);orientation.multiply(mat);/* cylinder: radiusAtTop, radiusAtBottom, \n          height, radiusSegments, heightSegments */var RADIAL_SEGMENTS=8;var HEIGHT_SEGMENTS=1;var edgeGeometry=new THREE.CylinderGeometry(currRadius,nextRadius,CYLINDER_HEIGHT,RADIAL_SEGMENTS,HEIGHT_SEGMENTS);var material=new THREE.MeshPhongMaterial({color:colorBacks,flatShading:true});var cylinder=new THREE.Mesh(edgeGeometry,material);cylinder.applyMatrix4(orientation);cylinder.position.set(midPoint.x,midPoint.y,midPoint.z);cylinder.cursor=\"pointer\";cylinder.userData.colorBacks=colorBacks;cylinder.userData.colorRank=colorRank;cylinder.userData.isAtractor=isAtractor;cylinder.on(\"click\",function(){rendering_utils.resetOpacity(cylinders);var newMaterial=cylinder.material.clone();newMaterial.transparent=true;newMaterial.opacity=0.5;cylinder.material=newMaterial;rendering_utils.resetText(texts,scene);description_div.innerHTML=rendering_utils.createDescriptionForCluster(data[id],cylinder,nodes_ids,number_of_nodes);});return cylinder;};var midPoint=new Point((startPoint.x+endPoint.x)/2,(startPoint.y+endPoint.y)/2,(startPoint.z+endPoint.z)/2);return cylinderMesh(startPoint,endPoint,midPoint,currRadius,nextRadius,colorBacks,colorRank,isAtractor);}// prevPoint, point - upper and downer middle points of cylinder\n// dirPoint - point to which direction of cylinder (dir vector) should go\nfunction clustering(id,prevPointFirst,pointFirst,biggestRank){if(id===undefined){console.log(\"Id is undefined in clustering\");return;}var tuple=Object.freeze({id:id,prevPoint:prevPointFirst,point:pointFirst});var stack=[tuple];// to change direction of descendant for situations when cluster has \"Separate\" and only 1 other descendant\n// according this the position is swiped from left to right - alternating\nvar last_dir_right=false;while(stack.length>0){var stackElement=stack.pop();var current=stackElement.id;var prevPoint=stackElement.prevPoint;var point=stackElement.point;var cluster=data[current];var childCount=cluster[\"Desc\"].length;var childsChildCount=rendering_utils.getChildsChilds(data,cluster);var upperRadius=cluster.NodeCount;var lowerRadius=childCount===1?childsChildCount:childsChildCount+cluster[\"Desc\"].length+(cluster[\"Separate\"]!==undefined?1:0);var cylinder=createCylinder(data,current,prevPoint,point,upperRadius,lowerRadius,data[current][\"Rank\"],biggestRank);cylinders.push(cylinder);scene.add(cylinder);var dirVector=new THREE.Vector3(point.x-prevPoint.x,point.y-prevPoint.y,point.z-prevPoint.z);if(cluster[\"Separate\"]!==undefined){stack.push(rendering_utils.createCoordinatesForSingleSon(point,prevPoint,cluster[\"Separate\"]));}for(var i=0;i<childCount;++i){if(childCount===1&&cluster[\"Separate\"]===undefined){stack.push(rendering_utils.createCoordinatesForSingleSon(point,prevPoint,cluster[\"Desc\"][0]));continue;}var uVector=new THREE.Vector3(-1*dirVector.y,dirVector.x,0).normalize();var adota=uVector.dot(uVector);var crossProductVec=rendering_utils.crossProduct(dirVector,uVector);var vVector=crossProductVec.divideScalar(adota).normalize();// COMPUTE NEW COORDINATES around circle\nvar theta=2*Math.PI/childCount*i;if(childCount===1){if(last_dir_right===true){theta=Math.PI;// not 0 but 180\n}last_dir_right=!last_dir_right;}var sin=Math.sin(theta);var cos=Math.cos(theta);var u=uVector.multiplyScalar(cos*lowerRadius);var v=vVector.multiplyScalar(sin*lowerRadius);var newStartPointHelper=u.add(v).add(new THREE.Vector3(point.x,point.y,point.z));// Vector which will be prolonged from prevPoint to newStartPointer -> to create newEndPoint\nvar vector=new THREE.Vector3(newStartPointHelper.x-prevPoint.x,newStartPointHelper.y-prevPoint.y,newStartPointHelper.z-prevPoint.z).normalize();var newEndPoint=new Point(newStartPointHelper.x+CYLINDER_HEIGHT*vector.x,newStartPointHelper.y+CYLINDER_HEIGHT*vector.y,newStartPointHelper.z+CYLINDER_HEIGHT*vector.z);tuple=Object.freeze({id:cluster[\"Desc\"][i],prevPoint:newStartPointHelper,point:newEndPoint});stack.push(tuple);}}}function processClusters(scene,data){var root_cluster_key=undefined;var biggestRank=0;Object.entries(data).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),k=_ref2[0],v=_ref2[1];if(v[\"Rank\"]===0){root_cluster_key=k;}biggestRank=Math.max(v[\"Rank\"],biggestRank);});var firstHeight=biggestRank*CYLINDER_HEIGHT/2+CYLINDER_HEIGHT;var firstStartPoint=new Point(-20,firstHeight,0);var firstEndPoint=new Point(-20,firstHeight-CYLINDER_HEIGHT,0);clustering(root_cluster_key,firstStartPoint,firstEndPoint,biggestRank);}}","map":{"version":3,"names":["THREE","OrbitControls","dat","Point","Interaction","rendering_utils","init3Dgraphics","canvas","description_div","gui_div","data","nodes_ids","h","w","undefined","CYLINDER_HEIGHT","number_of_nodes","Object","keys","length","scene","Scene","background","Color","camera","PerspectiveCamera","width","height","renderer","WebGLRenderer","setPixelRatio","window","devicePixelRatio","setSize","position","setZ","sortObjects","render","texts","cylinders","gui","GUI","autoPlace","append","domElement","pointLight","PointLight","set","ambientLight","AmbientLight","add","addEventListener","aspect","updateProjectionMatrix","controls","processClusters","animate","setTimeout","requestAnimationFrame","update","copy","setAnimationLoop","parameters_colors","check","folder","addFolder","name","listen","onChange","e","setChecked","forEach","cylinder","userData","isAtractor","material","color","colorBacks","colorRank","NEUTRAL_COLOR","prop","param","params_export","export","exportGLTEObject","right","moveObjectToRight","left","moveObjectToLeft","folder_export","group","Group","cyl","x","y","z","exportGLTE","createCylinder","id","startPoint","endPoint","currRadius","nextRadius","rank","rank_max","calcColorBacks","calcColorRank","cylinderMesh","midPoint","orientation","Matrix4","lookAt","Object3D","up","mat","multiply","RADIAL_SEGMENTS","HEIGHT_SEGMENTS","edgeGeometry","CylinderGeometry","MeshPhongMaterial","flatShading","Mesh","applyMatrix4","cursor","on","resetOpacity","newMaterial","clone","transparent","opacity","resetText","innerHTML","createDescriptionForCluster","clustering","prevPointFirst","pointFirst","biggestRank","console","log","tuple","freeze","prevPoint","point","stack","last_dir_right","stackElement","pop","current","cluster","childCount","childsChildCount","getChildsChilds","upperRadius","NodeCount","lowerRadius","push","dirVector","Vector3","createCoordinatesForSingleSon","i","uVector","normalize","adota","dot","crossProductVec","crossProduct","vVector","divideScalar","theta","Math","PI","sin","cos","u","multiplyScalar","v","newStartPointHelper","vector","newEndPoint","root_cluster_key","entries","k","max","firstHeight","firstStartPoint","firstEndPoint"],"sources":["/home/xkruzel/Desktop/todo/reactapp/src/rendering.js"],"sourcesContent":["import * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport * as dat from \"dat.gui\";\nimport { Point } from \"./Point\";\nimport { Interaction } from \"three.interaction-fixed\";\nimport * as rendering_utils from './rendering_utils.js';\n\nexport function init3Dgraphics(canvas, description_div, gui_div, data, nodes_ids, h, w) {\n  if (data === undefined) {\n    return false;\n  }\n\n  const CYLINDER_HEIGHT = 8;\n  const number_of_nodes = Object.keys(nodes_ids).length;\n\n  const scene = new THREE.Scene();\n  scene.background = new THREE.Color(0xf8f2ea);\n  const camera = new THREE.PerspectiveCamera(\n    75,\n    canvas.width / canvas.height,\n    0.1,\n    1000\n  );\n  const renderer = new THREE.WebGLRenderer({\n    canvas: canvas,\n  });\n\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(canvas.width, canvas.height); // full size\n  camera.position.setZ(100); // for better perspective\n  renderer.sortObjects = false;\n  renderer.render(scene, camera);\n\n  new Interaction(renderer, scene, camera);\n\n  // For showing text information about clusters\n  var texts = [];\n  var cylinders = [];\n  \n  const gui = new dat.GUI( { autoPlace: false } );\n  gui_div.append(gui.domElement);\n\n\n  const pointLight = new THREE.PointLight(0x818085);\n  pointLight.position.set(20, 20, 20);\n\n  const ambientLight = new THREE.AmbientLight(0xffffff);\n  ambientLight.position.set(20, 20, 20);\n\n  scene.add(pointLight, ambientLight);\n\n  window.addEventListener(\"resize\", function () {\n    camera.aspect = canvas.width / canvas.height;\n    camera.updateProjectionMatrix();\n    renderer.setSize(canvas.width);\n  });\n\n  const controls = new OrbitControls(camera, renderer.domElement);\n\n  processClusters(scene, data);\n  data = null;\n\n  function animate() {\n    setTimeout(function () {\n      requestAnimationFrame(animate);\n    }, 1000 / 5);\n\n    controls.update();\n    renderer.render(scene, camera);\n    pointLight.position.copy(camera.position);\n  }\n\n  renderer.setAnimationLoop(animate);\n\n  window.addEventListener(\"resize\", function () {\n    camera.aspect = canvas.width / canvas.width;\n    camera.updateProjectionMatrix();\n    renderer.setSize(canvas.width, canvas.width);\n  });\n\n\n  /* SETTING CONTROLS */\n  /* COLOR */\n  var parameters_colors = [\n    {check: true  }, // color for back edges \n    {check: false }, // color for ranks\n    {check: false }, // color for None colors\n  ];\n\n  var folder = gui.addFolder(\"Colors\");\n  folder.add(parameters_colors[0], 'check').name('Back edges').listen().onChange(function(e)\n  {\n    setChecked(0);\n    if (e) {\n      cylinders.forEach(function(cylinder) {\n        if (!cylinder.userData.isAtractor) {\n          cylinder.material.color = cylinder.userData.colorBacks;\n        }\n      });\n    }\n  });\n\n  folder.add(parameters_colors[1], 'check').name('Ranks').listen().onChange(function(e)\n  {\n    setChecked(1);\n    if (e) {\n      cylinders.forEach(function(cylinder) {\n        if (!cylinder.userData.isAtractor) {\n          cylinder.material.color = cylinder.userData.colorRank;\n        }\n      });\n    }\n  });\n\n  folder.add(parameters_colors[2], 'check').name('None').listen().onChange(function(e)\n  {\n    setChecked(2);\n    if (e) {\n      cylinders.forEach(function(cylinder) {\n        if (!cylinder.userData.isAtractor) {\n          cylinder.material.color = new THREE.Color(rendering_utils.NEUTRAL_COLOR);\n        }\n      });\n    }\n  });\n\n  function setChecked( prop ){\n    for (let param in parameters_colors){\n      parameters_colors[param].check = false;\n    }\n    parameters_colors[prop].check = true;\n  }\n\n  /* Export */\n\n  const params_export = {\n    export: exportGLTEObject,\n    right: moveObjectToRight,\n    left: moveObjectToLeft,\n  };\n  var folder_export = gui.addFolder(\"Export\");\n\tfolder_export.add( params_export, 'export' ).name( 'Export in gltf format' );\n\tfolder_export.add( params_export, 'right' ).name( 'Move to right' );\n\tfolder_export.add( params_export, 'left' ).name( 'Move to left' );\n\n  /* CONTROLS END */\n\n  const group = new THREE.Group();\n  cylinders.forEach(function (cyl) {\n    group.add(cyl)\n  });\n  scene.add(group);\n\n  function moveObjectToRight() {\n    group.position.set(group.position.x, group.position.y, group.position.z + 5);\n  }\n\n  function moveObjectToLeft() {\n    group.position.set(group.position.x, group.position.y, group.position.z - 5);\n  }\n\n  function exportGLTEObject() {\n    return rendering_utils.exportGLTE(group);\n  }\n\n  function createCylinder(\n    data,\n    id,\n    startPoint,\n    endPoint,\n    currRadius,\n    nextRadius,\n    rank,\n    rank_max\n  ) {\n\n    const isAtractor = data[id][\"Color\"] !== \"\";\n\n    const colorBacks = new THREE.Color(\n      isAtractor ? data[id][\"Color\"] : rendering_utils.calcColorBacks(data[id])\n    );\n\n    const colorRank = new THREE.Color(\n      isAtractor ? data[id][\"Color\"] : rendering_utils.calcColorRank(rank_max, rank)\n    );\n\n    var cylinderMesh = function (\n      startPoint,\n      endPoint,\n      midPoint,\n      currRadius,\n      nextRadius,\n      colorBacks,\n      colorRank,\n      isAtractor\n    ) {\n\n      const orientation = new THREE.Matrix4();\n      /* THREE.Object3D().up (=Y) default orientation for all objects */\n      orientation.lookAt(startPoint, endPoint, new THREE.Object3D().up);\n\n      /* rotation around axis X by -90 degrees\n       * matches the default orientation Y\n       * with the orientation of looking Z */\n      const mat = new THREE.Matrix4();\n      mat.set(1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1);\n      orientation.multiply(mat);\n\n      /* cylinder: radiusAtTop, radiusAtBottom, \n          height, radiusSegments, heightSegments */\n      const RADIAL_SEGMENTS = 8;\n      const HEIGHT_SEGMENTS = 1;\n      const edgeGeometry = new THREE.CylinderGeometry(\n        currRadius,\n        nextRadius,\n        CYLINDER_HEIGHT,\n        RADIAL_SEGMENTS,\n        HEIGHT_SEGMENTS\n      );\n\n      const material = new THREE.MeshPhongMaterial({ color: colorBacks, flatShading: true });\n      const cylinder = new THREE.Mesh(\n        edgeGeometry,\n        material\n      );\n\n      cylinder.applyMatrix4(orientation);\n      cylinder.position.set(midPoint.x, midPoint.y, midPoint.z);\n      cylinder.cursor = \"pointer\";\n\n      cylinder.userData.colorBacks = colorBacks;\n      cylinder.userData.colorRank  = colorRank;\n      cylinder.userData.isAtractor = isAtractor;\n\n      cylinder.on(\"click\", function () {\n        rendering_utils.resetOpacity(cylinders);\n        const newMaterial = cylinder.material.clone();\n        newMaterial.transparent = true;\n        newMaterial.opacity = 0.5;\n        cylinder.material = newMaterial;\n\n        rendering_utils.resetText(texts, scene);\n        description_div.innerHTML = rendering_utils.createDescriptionForCluster(data[id], cylinder, nodes_ids, number_of_nodes);\n      });\n\n      return cylinder;\n    };\n\n    const midPoint = new Point(\n      (startPoint.x + endPoint.x) / 2,\n      (startPoint.y + endPoint.y) / 2,\n      (startPoint.z + endPoint.z) / 2\n    );\n    return cylinderMesh(\n      startPoint,\n      endPoint,\n      midPoint,\n      currRadius,\n      nextRadius,\n      colorBacks,\n      colorRank,\n      isAtractor\n    );\n  }\n\n  // prevPoint, point - upper and downer middle points of cylinder\n  // dirPoint - point to which direction of cylinder (dir vector) should go\n  function clustering(\n    id,\n    prevPointFirst,\n    pointFirst,\n    biggestRank\n  ) {\n    if (id === undefined) {\n      console.log(\"Id is undefined in clustering\");\n      return;\n    }\n\n    var tuple = Object.freeze({\n      id: id,\n      prevPoint: prevPointFirst,\n      point: pointFirst,\n    });\n    var stack = [tuple];\n\n  // to change direction of descendant for situations when cluster has \"Separate\" and only 1 other descendant\n  // according this the position is swiped from left to right - alternating\n    var last_dir_right = false;\n\n    while (stack.length > 0) {\n      const stackElement = stack.pop();\n      const current = stackElement.id;\n      const prevPoint = stackElement.prevPoint;\n      const point = stackElement.point;\n\n      var cluster = data[current];\n      const childCount = cluster[\"Desc\"].length;\n\n      var childsChildCount = rendering_utils.getChildsChilds(data, cluster);\n\n      const upperRadius = cluster.NodeCount;\n      const lowerRadius =\n        childCount === 1\n          ? childsChildCount\n          : childsChildCount + cluster[\"Desc\"].length + (cluster[\"Separate\"] !== undefined ? 1 : 0);\n\n      var cylinder = createCylinder(\n        data,\n        current,\n        prevPoint,\n        point,\n        upperRadius,\n        lowerRadius,\n        data[current][\"Rank\"],\n        biggestRank\n      );\n\n      cylinders.push(cylinder);\n      scene.add(cylinder);\n\n      var dirVector = new THREE.Vector3(\n        point.x - prevPoint.x,\n        point.y - prevPoint.y,\n        point.z - prevPoint.z\n      );\n\n      if (cluster[\"Separate\"] !== undefined) {\n          stack.push( rendering_utils.createCoordinatesForSingleSon(point, prevPoint, cluster[\"Separate\"]) );\n      }\n\n      for (var i = 0; i < childCount; ++i) {\n\n        if (childCount === 1 && cluster[\"Separate\"] === undefined) {\n          stack.push( rendering_utils.createCoordinatesForSingleSon(point, prevPoint, cluster[\"Desc\"][0]) );\n          continue;\n        }\n\n        const uVector = new THREE.Vector3((-1) * dirVector.y, dirVector.x, 0).normalize();\n\n        const adota = uVector.dot(uVector);\n        const crossProductVec = rendering_utils.crossProduct(dirVector, uVector);\n        const vVector = crossProductVec.divideScalar(adota).normalize();\n\n        // COMPUTE NEW COORDINATES around circle\n        var theta = (2*Math.PI / childCount) * i;\n        if (childCount === 1) {\n          if (last_dir_right === true) {\n            theta = Math.PI; // not 0 but 180\n          }\n          last_dir_right = !last_dir_right;\n        }\n\n        const sin = Math.sin(theta);\n        const cos = Math.cos(theta);\n\n        const u = uVector.multiplyScalar(cos * lowerRadius);\n        const v = vVector.multiplyScalar(sin * lowerRadius);\n\n        var newStartPointHelper = u\n          .add(v)\n          .add(new THREE.Vector3(point.x, point.y, point.z));\n\n\n        // Vector which will be prolonged from prevPoint to newStartPointer -> to create newEndPoint\n        const vector = new THREE.Vector3(\n          newStartPointHelper.x - prevPoint.x,\n          newStartPointHelper.y - prevPoint.y,\n          newStartPointHelper.z - prevPoint.z\n        ).normalize();\n\n        const newEndPoint = new Point(\n          newStartPointHelper.x + CYLINDER_HEIGHT * vector.x,\n          newStartPointHelper.y + CYLINDER_HEIGHT * vector.y,\n          newStartPointHelper.z + CYLINDER_HEIGHT * vector.z\n        );\n\n        tuple = Object.freeze({\n          id: cluster[\"Desc\"][i],\n          prevPoint: newStartPointHelper,\n          point: newEndPoint,\n        });\n        stack.push(tuple);\n      }\n    }\n  }\n\n  function processClusters(scene, data) {\n    var root_cluster_key = undefined;\n    var biggestRank = 0;\n    Object.entries(data).forEach(([k, v]) => {\n      if (v[\"Rank\"] === 0) {\n        root_cluster_key = k;\n      }\n      biggestRank = Math.max(v[\"Rank\"], biggestRank);\n    });\n\n    const firstHeight = (biggestRank * CYLINDER_HEIGHT) / 2 + CYLINDER_HEIGHT;\n    const firstStartPoint = new Point(-20, firstHeight,                   0);\n    const firstEndPoint   = new Point(-20, firstHeight - CYLINDER_HEIGHT, 0);\n\n    clustering(\n      root_cluster_key,\n      firstStartPoint,\n      firstEndPoint,\n      biggestRank\n    );\n    \n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}