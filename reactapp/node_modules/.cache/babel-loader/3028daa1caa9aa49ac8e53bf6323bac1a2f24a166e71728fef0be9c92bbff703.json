{"ast":null,"code":"import _slicedToArray from\"/home/xkruzel/Desktop/todo/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as THREE from\"three\";import{OrbitControls}from\"three/examples/jsm/controls/OrbitControls\";import*as dat from\"dat.gui\";import{Point,createPoint}from\"./Point\";import{Interaction}from\"three.interaction-fixed\";import*as utils from'./utils.js';//import { crossProduct, createDescriptionForCluster, NEUTRAL_COLOR, calcColorBacks, calcColorRank } from \"./utils\";\nexport function init3Dgraphics(canvas,description_div,gui_div,data,nodes_ids,h,w){if(data===undefined){return false;}var CYLINDER_HEIGHT=8;var number_of_nodes=Object.keys(nodes_ids).length;var scene=new THREE.Scene();scene.background=new THREE.Color(0xf8f2ea);var camera=new THREE.PerspectiveCamera(75,canvas.width/canvas.height,0.1,1000);var renderer=new THREE.WebGLRenderer({canvas:canvas});renderer.setPixelRatio(window.devicePixelRatio);renderer.setSize(canvas.width,canvas.height);// full size\ncamera.position.setZ(30);// for better perspective\nrenderer.sortObjects=false;renderer.render(scene,camera);new Interaction(renderer,scene,camera);// For showing text information about clusters\nvar texts=[];var cylinders=[];var gui=new dat.GUI({autoPlace:false});gui_div.append(gui.domElement);var parameters_colors=[{check:true},// color for back edges \n{check:false},// color for ranks\n{check:false}// color for None colors\n];var parameters_wireframe=[{check:false}];var pointLight=new THREE.PointLight(0x818085);pointLight.position.set(20,20,20);var ambientLight=new THREE.AmbientLight(0xffffff);ambientLight.position.set(20,20,20);scene.add(pointLight,ambientLight);window.addEventListener(\"resize\",function(){camera.aspect=canvas.width/canvas.height;camera.updateProjectionMatrix();renderer.setSize(canvas.width);});var controls=new OrbitControls(camera,renderer.domElement);processClusters(scene,data);data=null;function animate(){setTimeout(function(){requestAnimationFrame(animate);},1000/5);controls.update();renderer.render(scene,camera);pointLight.position.copy(camera.position);}renderer.setAnimationLoop(animate);window.addEventListener(\"resize\",function(){camera.aspect=canvas.width/canvas.width;camera.updateProjectionMatrix();renderer.setSize(canvas.width,canvas.width);});function resetOpacity(){cylinders.forEach(function(cylinder){var newMaterial=cylinder.material.clone();newMaterial.transparent=false;newMaterial.opacity=1;cylinder.material=newMaterial;});}function resetText(){texts.forEach(function(text){var selectedObject=scene.getObjectByName(text.name);scene.remove(selectedObject);});}function createCylinder(data,id,startPoint,endPoint,currRadius,nextRadius,rank,rank_max){var isAtractor=data[id][\"Color\"]!==\"\";var colorBacks=new THREE.Color(isAtractor?data[id][\"Color\"]:utils.calcColorBacks(data[id]));var colorRank=new THREE.Color(isAtractor?data[id][\"Color\"]:utils.calcColorRank(rank_max,rank));var cylinderMesh=function cylinderMesh(startPoint,endPoint,midPoint,currRadius,nextRadius,colorBacks,colorRank,isAtractor){/* edge from X to Y */var direction=new THREE.Vector3().subVectors(endPoint,startPoint);var orientation=new THREE.Matrix4();/* THREE.Object3D().up (=Y) default orientation for all objects */orientation.lookAt(startPoint,endPoint,new THREE.Object3D().up);/* rotation around axis X by -90 degrees\n       * matches the default orientation Y\n       * with the orientation of looking Z */var mat=new THREE.Matrix4();mat.set(1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1);orientation.multiply(mat);/* cylinder: radiusAtTop, radiusAtBottom, \n          height, radiusSegments, heightSegments */var RADIAL_SEGMENTS=8;var HEIGHT_SEGMENTS=1;var edgeGeometry=new THREE.CylinderGeometry(currRadius,nextRadius,CYLINDER_HEIGHT,RADIAL_SEGMENTS,HEIGHT_SEGMENTS);var material=new THREE.MeshPhongMaterial({color:colorBacks,flatShading:true});var cylinder=new THREE.Mesh(edgeGeometry,material);cylinder.applyMatrix4(orientation);cylinder.position.set(midPoint.x,midPoint.y,midPoint.z);cylinder.cursor=\"pointer\";cylinder.userData.colorBacks=colorBacks;cylinder.userData.colorRank=colorRank;cylinder.userData.isAtractor=isAtractor;cylinder.on(\"click\",function(ev){resetOpacity();var newMaterial=cylinder.material.clone();newMaterial.transparent=true;newMaterial.opacity=0.5;cylinder.material=newMaterial;resetText();description_div.innerHTML=utils.createDescriptionForCluster(data[id],cylinder,nodes_ids,number_of_nodes);});return cylinder;};var midPoint=new Point((startPoint.x+endPoint.x)/2,(startPoint.y+endPoint.y)/2,(startPoint.z+endPoint.z)/2);return cylinderMesh(startPoint,endPoint,midPoint,currRadius,nextRadius,colorBacks,colorRank,isAtractor);}function getChildsChilds(data,cluster){var childsChildCount=0;for(var i=0;i<cluster[\"Desc\"].length;++i){childsChildCount+=data[cluster[\"Desc\"][i]].NodeCount;}if(cluster[\"Separate\"]!==undefined){childsChildCount=data[cluster[\"Separate\"]].NodeCount;}return childsChildCount;}function createCoordinatesForSingleSon(point,prevPoint,id){var dirVector=new THREE.Vector3(point.x-prevPoint.x,point.y-prevPoint.y,point.z-prevPoint.z);var newStartPoint=new Point(point.x,point.y,point.z);// to make copy\nvar newPoint=new Point(dirVector.x+point.x,dirVector.y+point.y,dirVector.z+point.z);return Object.freeze({id:id,//cluster[\"Desc\"][0],\nprevPoint:newStartPoint,point:newPoint});}// prevPoint, point - upper and downer middle points of cylinder\n// dirPoint - point to which direction of cylinder (dir vector) should go\nfunction clustering(scene,data,id,prevPointFirst,pointFirst,biggestRank){if(id===undefined){console.log(\"Id is undefined in clustering\");return;}var firstId=id;var tuple=Object.freeze({id:id,prevPoint:prevPointFirst,point:pointFirst});var stack=[tuple];// to change direction of descendant for situations when cluster has \"Separate\" and only 1 other descendant\n// according this the position is swiped from left to right - alternating\nvar last_dir_right=false;while(stack.length>0){var stackElement=stack.pop();var current=stackElement.id;var prevPoint=stackElement.prevPoint;var point=stackElement.point;console.log(current);var cluster=data[current];var childCount=cluster[\"Desc\"].length;var childsChildCount=getChildsChilds(data,cluster);var upperRadius=cluster.NodeCount;var lowerRadius=childCount===1?childsChildCount:childsChildCount+cluster[\"Desc\"].length+(cluster[\"Separate\"]!==undefined?1:0);var cylinder=createCylinder(data,current,prevPoint,point,upperRadius,lowerRadius,data[current][\"Rank\"],biggestRank);cylinders.push(cylinder);scene.add(cylinder);var dirVector=new THREE.Vector3(point.x-prevPoint.x,point.y-prevPoint.y,point.z-prevPoint.z);if(cluster[\"Separate\"]!==undefined){stack.push(createCoordinatesForSingleSon(point,prevPoint,cluster[\"Separate\"]));}for(var i=0;i<childCount;++i){if(childCount===1&&cluster[\"Separate\"]===undefined){stack.push(createCoordinatesForSingleSon(point,prevPoint,cluster[\"Desc\"][0]));continue;}var uVector=new THREE.Vector3(-1*dirVector.y,dirVector.x,0).normalize();var adota=uVector.dot(uVector);var crossProductVec=utils.crossProduct(dirVector,uVector);var vVector=crossProductVec.divideScalar(adota).normalize();// COMPUTE NEW COORDINATES around circle\nvar theta=2*Math.PI/childCount*i;if(childCount===1){if(last_dir_right===true){theta=Math.PI;// not 0 but 180\n}last_dir_right=!last_dir_right;}var sin=Math.sin(theta);var cos=Math.cos(theta);var u=uVector.multiplyScalar(cos*lowerRadius);var v=vVector.multiplyScalar(sin*lowerRadius);var newStartPointHelper=u.add(v).add(new THREE.Vector3(point.x,point.y,point.z));// Vector which will be prolonged from prevPoint to newStartPointer -> to create newEndPoint\nvar vector=new THREE.Vector3(newStartPointHelper.x-prevPoint.x,newStartPointHelper.y-prevPoint.y,newStartPointHelper.z-prevPoint.z).normalize();var newEndPoint=new Point(newStartPointHelper.x+CYLINDER_HEIGHT*vector.x,newStartPointHelper.y+CYLINDER_HEIGHT*vector.y,newStartPointHelper.z+CYLINDER_HEIGHT*vector.z);tuple=Object.freeze({id:cluster[\"Desc\"][i],prevPoint:newStartPointHelper,point:newEndPoint});stack.push(tuple);}}}function processClusters(scene,data){var root_cluster_key=undefined;var biggestRank=0;Object.entries(data).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),k=_ref2[0],v=_ref2[1];if(v[\"Rank\"]===0){root_cluster_key=k;}biggestRank=Math.max(v[\"Rank\"],biggestRank);});var firstHeight=biggestRank*CYLINDER_HEIGHT/2+CYLINDER_HEIGHT;var firstStartPoint=new Point(canvas.width/2,firstHeight,0);var firstEndPoint=new Point(canvas.width/2,firstHeight-CYLINDER_HEIGHT,0);clustering(scene,data,root_cluster_key,firstStartPoint,firstEndPoint,biggestRank);var folder=gui.addFolder(\"Colors\");folder.add(parameters_colors[0],'check').name('Back edges').listen().onChange(function(e){setChecked(0);if(e){cylinders.forEach(function(cylinder){if(!cylinder.userData.isAtractor){cylinder.material.color=cylinder.userData.colorBacks;}});}});folder.add(parameters_colors[1],'check').name('Ranks').listen().onChange(function(e){setChecked(1);if(e){cylinders.forEach(function(cylinder){if(!cylinder.userData.isAtractor){cylinder.material.color=cylinder.userData.colorRank;}});}});folder.add(parameters_colors[2],'check').name('None').listen().onChange(function(e){setChecked(2);if(e){cylinders.forEach(function(cylinder){if(!cylinder.userData.isAtractor){cylinder.material.color=new THREE.Color(utils.NEUTRAL_COLOR);}});}});var folder_wireframe=gui.addFolder(\"Wireframe\");folder_wireframe.add(parameters_wireframe[0],'check').name('Wireframe').listen().onChange(function(e){cylinders.forEach(function(cylinder){cylinder.material.wireframe=e;});});function setChecked(prop){for(var param in parameters_colors){parameters_colors[param].check=false;}parameters_colors[prop].check=true;}}}","map":{"version":3,"names":["THREE","OrbitControls","dat","Point","createPoint","Interaction","utils","init3Dgraphics","canvas","description_div","gui_div","data","nodes_ids","h","w","undefined","CYLINDER_HEIGHT","number_of_nodes","Object","keys","length","scene","Scene","background","Color","camera","PerspectiveCamera","width","height","renderer","WebGLRenderer","setPixelRatio","window","devicePixelRatio","setSize","position","setZ","sortObjects","render","texts","cylinders","gui","GUI","autoPlace","append","domElement","parameters_colors","check","parameters_wireframe","pointLight","PointLight","set","ambientLight","AmbientLight","add","addEventListener","aspect","updateProjectionMatrix","controls","processClusters","animate","setTimeout","requestAnimationFrame","update","copy","setAnimationLoop","resetOpacity","forEach","cylinder","newMaterial","material","clone","transparent","opacity","resetText","text","selectedObject","getObjectByName","name","remove","createCylinder","id","startPoint","endPoint","currRadius","nextRadius","rank","rank_max","isAtractor","colorBacks","calcColorBacks","colorRank","calcColorRank","cylinderMesh","midPoint","direction","Vector3","subVectors","orientation","Matrix4","lookAt","Object3D","up","mat","multiply","RADIAL_SEGMENTS","HEIGHT_SEGMENTS","edgeGeometry","CylinderGeometry","MeshPhongMaterial","color","flatShading","Mesh","applyMatrix4","x","y","z","cursor","userData","on","ev","innerHTML","createDescriptionForCluster","getChildsChilds","cluster","childsChildCount","i","NodeCount","createCoordinatesForSingleSon","point","prevPoint","dirVector","newStartPoint","newPoint","freeze","clustering","prevPointFirst","pointFirst","biggestRank","console","log","firstId","tuple","stack","last_dir_right","stackElement","pop","current","childCount","upperRadius","lowerRadius","push","uVector","normalize","adota","dot","crossProductVec","crossProduct","vVector","divideScalar","theta","Math","PI","sin","cos","u","multiplyScalar","v","newStartPointHelper","vector","newEndPoint","root_cluster_key","entries","k","max","firstHeight","firstStartPoint","firstEndPoint","folder","addFolder","listen","onChange","e","setChecked","NEUTRAL_COLOR","folder_wireframe","wireframe","prop","param"],"sources":["/home/xkruzel/Desktop/todo/reactapp/src/rendering.js"],"sourcesContent":["import * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport * as dat from \"dat.gui\";\nimport { Point, createPoint } from \"./Point\";\nimport { Interaction } from \"three.interaction-fixed\";\nimport * as utils from './utils.js';\n//import { crossProduct, createDescriptionForCluster, NEUTRAL_COLOR, calcColorBacks, calcColorRank } from \"./utils\";\n\n\nexport function init3Dgraphics(canvas, description_div, gui_div, data, nodes_ids, h, w) {\n  if (data === undefined) {\n    return false;\n  }\n\n  const CYLINDER_HEIGHT = 8;\n  const number_of_nodes = Object.keys(nodes_ids).length;\n\n  const scene = new THREE.Scene();\n  scene.background = new THREE.Color(0xf8f2ea);\n  const camera = new THREE.PerspectiveCamera(\n    75,\n    canvas.width / canvas.height,\n    0.1,\n    1000\n  );\n  const renderer = new THREE.WebGLRenderer({\n    canvas: canvas,\n  });\n\n  renderer.setPixelRatio(window.devicePixelRatio);\n  renderer.setSize(canvas.width, canvas.height); // full size\n  camera.position.setZ(30); // for better perspective\n  renderer.sortObjects = false;\n  renderer.render(scene, camera);\n\n  new Interaction(renderer, scene, camera);\n\n  // For showing text information about clusters\n  var texts = [];\n  var cylinders = [];\n  \n  const gui = new dat.GUI( { autoPlace: false } );\n  gui_div.append(gui.domElement);\n  var parameters_colors = [\n    {check: true }, // color for back edges \n    {check: false }, // color for ranks\n    {check: false }, // color for None colors\n  ]\n\n  var parameters_wireframe = [\n    {check: false }, \n  ]\n\n  const pointLight = new THREE.PointLight(0x818085);\n  pointLight.position.set(20, 20, 20);\n\n  const ambientLight = new THREE.AmbientLight(0xffffff);\n  ambientLight.position.set(20, 20, 20);\n\n  scene.add(pointLight, ambientLight);\n\n  window.addEventListener(\"resize\", function () {\n    camera.aspect = canvas.width / canvas.height;\n    camera.updateProjectionMatrix();\n    renderer.setSize(canvas.width);\n  });\n\n  const controls = new OrbitControls(camera, renderer.domElement);\n\n  processClusters(scene, data);\n  data = null;\n\n  function animate() {\n    setTimeout(function () {\n      requestAnimationFrame(animate);\n    }, 1000 / 5);\n\n    controls.update();\n    renderer.render(scene, camera);\n    pointLight.position.copy(camera.position);\n  }\n\n  renderer.setAnimationLoop(animate);\n\n  window.addEventListener(\"resize\", function () {\n    camera.aspect = canvas.width / canvas.width;\n    camera.updateProjectionMatrix();\n    renderer.setSize(canvas.width, canvas.width);\n  });\n\n  function resetOpacity() {\n    cylinders.forEach(function (cylinder) {\n      const newMaterial = cylinder.material.clone();\n      newMaterial.transparent = false;\n      newMaterial.opacity = 1;\n      cylinder.material = newMaterial;\n    });\n  }\n\n  function resetText() {\n    texts.forEach(function (text) {\n      var selectedObject = scene.getObjectByName(text.name);\n      scene.remove(selectedObject);\n    });\n  }\n\n  function createCylinder(\n    data,\n    id,\n    startPoint,\n    endPoint,\n    currRadius,\n    nextRadius,\n    rank,\n    rank_max\n  ) {\n\n    const isAtractor = data[id][\"Color\"] !== \"\";\n\n    const colorBacks = new THREE.Color(\n      isAtractor ? data[id][\"Color\"] : utils.calcColorBacks(data[id])\n    );\n\n    const colorRank = new THREE.Color(\n      isAtractor ? data[id][\"Color\"] : utils.calcColorRank(rank_max, rank)\n    );\n\n\n    var cylinderMesh = function (\n      startPoint,\n      endPoint,\n      midPoint,\n      currRadius,\n      nextRadius,\n      colorBacks,\n      colorRank,\n      isAtractor\n    ) {\n      /* edge from X to Y */\n      const direction = new THREE.Vector3().subVectors(endPoint, startPoint);\n\n      const orientation = new THREE.Matrix4();\n      /* THREE.Object3D().up (=Y) default orientation for all objects */\n      orientation.lookAt(startPoint, endPoint, new THREE.Object3D().up);\n\n      /* rotation around axis X by -90 degrees\n       * matches the default orientation Y\n       * with the orientation of looking Z */\n      const mat = new THREE.Matrix4();\n      mat.set(1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1);\n      orientation.multiply(mat);\n\n      /* cylinder: radiusAtTop, radiusAtBottom, \n          height, radiusSegments, heightSegments */\n      const RADIAL_SEGMENTS = 8;\n      const HEIGHT_SEGMENTS = 1;\n      const edgeGeometry = new THREE.CylinderGeometry(\n        currRadius,\n        nextRadius,\n        CYLINDER_HEIGHT,\n        RADIAL_SEGMENTS,\n        HEIGHT_SEGMENTS\n      );\n\n      const material = new THREE.MeshPhongMaterial({ color: colorBacks, flatShading: true });\n      const cylinder = new THREE.Mesh(\n        edgeGeometry,\n        material\n      );\n\n      cylinder.applyMatrix4(orientation);\n      cylinder.position.set(midPoint.x, midPoint.y, midPoint.z);\n      cylinder.cursor = \"pointer\";\n\n      cylinder.userData.colorBacks = colorBacks;\n      cylinder.userData.colorRank  = colorRank;\n      cylinder.userData.isAtractor = isAtractor;\n\n      cylinder.on(\"click\", function (ev) {\n        resetOpacity();\n        const newMaterial = cylinder.material.clone();\n        newMaterial.transparent = true;\n        newMaterial.opacity = 0.5;\n        cylinder.material = newMaterial;\n\n        resetText();\n        description_div.innerHTML = utils.createDescriptionForCluster(data[id], cylinder, nodes_ids, number_of_nodes);\n      });\n\n      return cylinder;\n    };\n\n    const midPoint = new Point(\n      (startPoint.x + endPoint.x) / 2,\n      (startPoint.y + endPoint.y) / 2,\n      (startPoint.z + endPoint.z) / 2\n    );\n    return cylinderMesh(\n      startPoint,\n      endPoint,\n      midPoint,\n      currRadius,\n      nextRadius,\n      colorBacks,\n      colorRank,\n      isAtractor\n    );\n  }\n\n  function getChildsChilds(data, cluster) {\n    var childsChildCount = 0;\n    for (var i = 0; i < cluster[\"Desc\"].length; ++i) {\n      childsChildCount += data[cluster[\"Desc\"][i]].NodeCount;\n    }\n\n    if (cluster[\"Separate\"] !== undefined) {\n      childsChildCount = data[cluster[\"Separate\"]].NodeCount;\n    }\n\n    return childsChildCount;\n  }\n\n  function createCoordinatesForSingleSon(point, prevPoint, id) {\n    const dirVector = new THREE.Vector3(\n      point.x - prevPoint.x,\n      point.y - prevPoint.y,\n      point.z - prevPoint.z\n    );\n\n    var newStartPoint = new Point(point.x, point.y, point.z); // to make copy\n    const newPoint = new Point(\n      dirVector.x + point.x,\n      dirVector.y + point.y,\n      dirVector.z + point.z\n    );\n\n    return Object.freeze({\n      id: id, //cluster[\"Desc\"][0],\n      prevPoint: newStartPoint,\n      point: newPoint,\n    });\n  }\n\n  // prevPoint, point - upper and downer middle points of cylinder\n  // dirPoint - point to which direction of cylinder (dir vector) should go\n  function clustering(\n    scene,\n    data,\n    id,\n    prevPointFirst,\n    pointFirst,\n    biggestRank\n  ) {\n    if (id === undefined) {\n      console.log(\"Id is undefined in clustering\");\n      return;\n    }\n    const firstId = id;\n\n    var tuple = Object.freeze({\n      id: id,\n      prevPoint: prevPointFirst,\n      point: pointFirst,\n    });\n    var stack = [tuple];\n\n  // to change direction of descendant for situations when cluster has \"Separate\" and only 1 other descendant\n  // according this the position is swiped from left to right - alternating\n    var last_dir_right = false;\n\n    while (stack.length > 0) {\n      const stackElement = stack.pop();\n      const current = stackElement.id;\n      const prevPoint = stackElement.prevPoint;\n      const point = stackElement.point;\n      console.log(current);\n\n      var cluster = data[current];\n      const childCount = cluster[\"Desc\"].length;\n\n      var childsChildCount = getChildsChilds(data, cluster);\n\n      const upperRadius = cluster.NodeCount;\n      const lowerRadius =\n        childCount === 1\n          ? childsChildCount\n          : childsChildCount + cluster[\"Desc\"].length + (cluster[\"Separate\"] !== undefined ? 1 : 0);\n\n      var cylinder = createCylinder(\n        data,\n        current,\n        prevPoint,\n        point,\n        upperRadius,\n        lowerRadius,\n        data[current][\"Rank\"],\n        biggestRank\n      );\n\n      cylinders.push(cylinder);\n      scene.add(cylinder);\n\n      var dirVector = new THREE.Vector3(\n        point.x - prevPoint.x,\n        point.y - prevPoint.y,\n        point.z - prevPoint.z\n      );\n\n      if (cluster[\"Separate\"] !== undefined) {\n          stack.push( createCoordinatesForSingleSon(point, prevPoint, cluster[\"Separate\"]) );\n      }\n\n      for (var i = 0; i < childCount; ++i) {\n\n        if (childCount === 1 && cluster[\"Separate\"] === undefined) {\n          stack.push( createCoordinatesForSingleSon(point, prevPoint, cluster[\"Desc\"][0]) );\n          continue;\n        }\n\n        const uVector = new THREE.Vector3((-1) * dirVector.y, dirVector.x, 0).normalize();\n\n        const adota = uVector.dot(uVector);\n        const crossProductVec = utils.crossProduct(dirVector, uVector);\n        const vVector = crossProductVec.divideScalar(adota).normalize();\n\n        // COMPUTE NEW COORDINATES around circle\n        var theta = (2*Math.PI / childCount) * i;\n        if (childCount === 1) {\n          if (last_dir_right === true) {\n            theta = Math.PI; // not 0 but 180\n          }\n          last_dir_right = !last_dir_right;\n        }\n\n        const sin = Math.sin(theta);\n        const cos = Math.cos(theta);\n\n        const u = uVector.multiplyScalar(cos * lowerRadius);\n        const v = vVector.multiplyScalar(sin * lowerRadius);\n\n        var newStartPointHelper = u\n          .add(v)\n          .add(new THREE.Vector3(point.x, point.y, point.z));\n\n\n        // Vector which will be prolonged from prevPoint to newStartPointer -> to create newEndPoint\n        const vector = new THREE.Vector3(\n          newStartPointHelper.x - prevPoint.x,\n          newStartPointHelper.y - prevPoint.y,\n          newStartPointHelper.z - prevPoint.z\n        ).normalize();\n\n        const newEndPoint = new Point(\n          newStartPointHelper.x + CYLINDER_HEIGHT * vector.x,\n          newStartPointHelper.y + CYLINDER_HEIGHT * vector.y,\n          newStartPointHelper.z + CYLINDER_HEIGHT * vector.z\n        );\n\n        tuple = Object.freeze({\n          id: cluster[\"Desc\"][i],\n          prevPoint: newStartPointHelper,\n          point: newEndPoint,\n        });\n        stack.push(tuple);\n      }\n    }\n  }\n\n  function processClusters(scene, data) {\n    var root_cluster_key = undefined;\n    var biggestRank = 0;\n    Object.entries(data).forEach(([k, v]) => {\n      if (v[\"Rank\"] === 0) {\n        root_cluster_key = k;\n      }\n      biggestRank = Math.max(v[\"Rank\"], biggestRank);\n    });\n\n    const firstHeight = (biggestRank * CYLINDER_HEIGHT) / 2 + CYLINDER_HEIGHT;\n    const firstStartPoint = new Point(canvas.width/2, firstHeight,                   0);\n    const firstEndPoint = new Point(canvas.width/2,   firstHeight - CYLINDER_HEIGHT, 0);\n\n    clustering(\n      scene,\n      data,\n      root_cluster_key,\n      firstStartPoint,\n      firstEndPoint,\n      biggestRank\n    );\n\n    var folder = gui.addFolder(\"Colors\");\n    folder.add(parameters_colors[0], 'check').name('Back edges').listen().onChange(function(e)\n    {\n      setChecked(0);\n      if (e) {\n        cylinders.forEach(function(cylinder) {\n          if (!cylinder.userData.isAtractor) {\n            cylinder.material.color = cylinder.userData.colorBacks;\n          }\n        });\n      }\n    });\n\n    folder.add(parameters_colors[1], 'check').name('Ranks').listen().onChange(function(e)\n    {\n      setChecked(1);\n      if (e) {\n        cylinders.forEach(function(cylinder) {\n          if (!cylinder.userData.isAtractor) {\n            cylinder.material.color = cylinder.userData.colorRank;\n          }\n        });\n      }\n    });\n\n    folder.add(parameters_colors[2], 'check').name('None').listen().onChange(function(e)\n    {\n      setChecked(2);\n      if (e) {\n        cylinders.forEach(function(cylinder) {\n          if (!cylinder.userData.isAtractor) {\n            cylinder.material.color = new THREE.Color(utils.NEUTRAL_COLOR);\n          }\n        });\n      }\n    });\n\n    var folder_wireframe = gui.addFolder(\"Wireframe\");\n    folder_wireframe.add(parameters_wireframe[0], 'check').name('Wireframe').listen().onChange(function(e)\n    {\n      cylinders.forEach(function(cylinder) {\n        cylinder.material.wireframe = e;\n      });\n    }); \n\n    function setChecked( prop ){\n      for (let param in parameters_colors){\n        parameters_colors[param].check = false;\n      }\n      parameters_colors[prop].check = true;\n    }\n    \n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}