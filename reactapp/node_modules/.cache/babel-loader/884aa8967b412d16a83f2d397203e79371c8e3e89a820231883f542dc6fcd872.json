{"ast":null,"code":"import*as THREE from\"three\";var NEUTRAL_COLOR=\"hsl(255, 0%, 46%)\";export function getWindowSize(){var main_div=document.getElementById('root');var innerWidth=main_div.clientWidth;var innerHeight=Math.max(main_div.clientHeight,900);return{innerWidth:innerWidth,innerHeight:innerHeight};}export function dec2bin(dec,n){dec=Number(dec);var res=dec.toString(2);while(res.length<n){res='0'+res;}return res;}export function crossProduct(a,b){return new THREE.Vector3(a.y*b.z-a.z*b.y,a.z*b.x-a.x*b.z,a.x*b.y-a.y*b.x);}export function createDescriptionForCluster(cluster,cylinder,nodes_ids){var text=\"\";cluster[\"Nodes\"].forEach(function(elem){if(text!==\"\"){text+=\",\";}text+=\" (\";var bin=dec2bin(elem,number_of_nodes);for(var i=0;i<bin.length;i++){if(bin[i]===\"1\"){text+=\" \"+nodes_ids[i];}}text+=\" )\";});var atraktor=cylinder.userData.isAtractor?\"<br><b>Atraktor</b>\":\"\";return\"<b>Rank</b>: \"+cluster[\"Rank\"]+\"<br><b>Nodes</b>: \"+text+atraktor;}export function calcColorBacks(cluster){if(cluster[\"Backs\"].length>0){return\"hsl(259, 20%, 30%)\";}return NEUTRAL_COLOR;}export function calcColorRank(max,val){var min=0;var minHue=240,maxHue=0;var curPercent=(val-min)/(max-min);var colString=\"hsl(\"+(curPercent*(maxHue-minHue)+minHue)+\",25%,40%)\";return colString;}","map":{"version":3,"names":["THREE","NEUTRAL_COLOR","getWindowSize","main_div","document","getElementById","innerWidth","clientWidth","innerHeight","Math","max","clientHeight","dec2bin","dec","n","Number","res","toString","length","crossProduct","a","b","Vector3","y","z","x","createDescriptionForCluster","cluster","cylinder","nodes_ids","text","forEach","elem","bin","number_of_nodes","i","atraktor","userData","isAtractor","calcColorBacks","calcColorRank","val","min","minHue","maxHue","curPercent","colString"],"sources":["/home/xkruzel/Desktop/todo/reactapp/src/utils.js"],"sourcesContent":["import * as THREE from \"three\";\n\nconst NEUTRAL_COLOR = \"hsl(255, 0%, 46%)\";\n\nexport function getWindowSize() {\n    const main_div = document.getElementById('root');\n    const innerWidth = main_div.clientWidth;\n    const innerHeight = Math.max(main_div.clientHeight, 900);\n\n    return {innerWidth, innerHeight};\n}\n\nexport function dec2bin(dec, n) {\n  dec = Number(dec);\n  var res = dec.toString(2);\n\n  while (res.length < n) {\n      res = '0' + res;\n  }\n  return res;\n}\n\nexport function crossProduct(a, b) {\n  return new THREE.Vector3(\n    a.y * b.z - a.z * b.y,\n    a.z * b.x - a.x * b.z,\n    a.x * b.y - a.y * b.x\n  );\n}\n\nexport function createDescriptionForCluster(cluster, cylinder, nodes_ids) {\n  var text = \"\";\n  cluster[\"Nodes\"].forEach(function (elem) {\n    if (text !== \"\") {\n      text += \",\";\n    }\n    text += \" (\";\n    const bin = dec2bin(elem, number_of_nodes);\n\n    for (let i = 0; i < bin.length; i++) {\n      if (bin[i] === \"1\") {\n        text += \" \" + nodes_ids[i];\n      }\n    }\n    text += \" )\";\n  });\n\n  const atraktor = cylinder.userData.isAtractor ? \"<br><b>Atraktor</b>\" : \"\";\n  return \"<b>Rank</b>: \" + cluster[\"Rank\"] + \"<br><b>Nodes</b>: \" + text + atraktor;\n}\n\nexport function calcColorBacks(cluster) {\n  if (cluster[\"Backs\"].length > 0) {\n    return \"hsl(259, 20%, 30%)\";\n  }\n\n  return NEUTRAL_COLOR;\n}\n\nexport function calcColorRank(max, val) {\n  const min = 0\n  var minHue = 240, maxHue=0;\n  var curPercent = (val - min) / (max-min);\n  var colString = \"hsl(\" + ((curPercent * (maxHue-minHue) ) + minHue) + \",25%,40%)\";\n  return colString;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}